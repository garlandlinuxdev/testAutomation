{
    "hardware": {
        "description": "McDonalds Gas Grill Lane 3/3 with Sensors and Leveling motor",
        "platform_type": 1,
        "lane": 2,
        "minimum_sib_firmware_version": [ 4, 1222 ],
        "user_buttons_hold_times_ms": [0, 0, 0, 0],
        "heater_design_voltage": 1633,
        "power_sync_role": 0,
        "smoke_fan_enable": 0
    },

    "power_calibration":{
        "num_voltages":              5,
        "voltages":                  [200, 208, 220, 230, 240],
        "default_on_cycle":          [16, 15, 13, 12, 11],
        "min_on_cycle":              [15, 14, 12, 11, 10],
        "max_on_cycle":              [17, 16, 14, 13, 12],
        "preheat_on_cycle_delta":    [ 0,  0,  0,  0,  0],
        "preheat_on_cycle_min":      [15, 14, 12, 11, 10],
        "preheat_on_cycle_max":      [17, 16, 14, 13, 12]
    },

    "heater_config": {
        "first_cycle":      [0,   0,   0,   0,   0,   0,   0,   0],
        "last_cycle":       [23,  23,  23,  23,  23,  23,  23,  23],
        "justify":          [0,   1,   1,   0,   1,   0,   0,   0],
        "preheat_power_limit":  [ 0, 0, 0, 0, 0, 0, 0, 0 ]
    },

    "heater_process": {
        "count": 5,
        "type":                     [ 3,  3, 3,   3, 3,  0, 0, 0 ],
        "sensor_mask":              [ 1,  2, 4,   8, 16, 0, 0, 0 ],
        "heater_mask":              [ 64, 2, 128, 8, 16, 0, 0, 0 ],
        "names":                    [ "Bottom Rear", "Top Rear", "Bottom Middle", "Top Front", "Bottom Front" ],
        "display_order":            [ 2, 1, 3, 0, 4 ],
        "burner_enable":          [    1,    1 ],
        "burner_tcmap":           [    0,    2 ],
        "burner_min_on_time":     [   15,   15 ],
        "burner_hysteresis_on":   [    0,    0 ],
        "burner_hysteresis_off":  [    0,    0 ],
        "burnerfan_speed_high":   [ 2000, 2000 ],
        "burnerfan_speed_low":    [  700,  700 ],
        "burnerfan_ignition_speed_factor": 300,
        "burnerfan_max_speed_decaPPM":  [    3600,    3600 ],
        "burnerfan_min_speed_decaPPM":  [    800,    800 ],
        "burnerfan_rpm_conversion_factor":    [    5,    5 ]
    },

    "thermocouple": {
        "count": 5,
        "names":                          [ "Lower Rear", "Upper Rear", "Lower Middle", "Upper Front", "Lower Front" ],
        "event_suffixes":                 [ "R",          "R",          "M",            "F",           "F" ],
        "high_temp_event_thresholds":     [ 2405,         2405,         2405,           2405,           2405 ],
        "high_temp_event_ids":            [ 23,           22,           23,             22,             23 ],
        "ungrounded_thresholds":          [ 200,          200,          200,            200,            200 ],
        "ungrounded_event_ids":           [ 15,           14,           15,             14,             15 ],
        "open_or_out_of_range_event_ids": [ 11,           10,           11,             10,             11 ],
        "broken_heater_event_ids":        [ 19,           18,           19,             18,             19 ],
        "hardware_offsets":               [ -28,          -28,          -28,            -28,            -28 ],
        "display_order":                  [ 2,            1,            3,              0,              4 ],
        "cutoff_delta_cooking":           [ 278,          278,          278,            278,            278 ],
        "cutoff_delta_not_cooking":       [ 28,           28,           28,             28,             28 ],

        "high_temp_event_thresholds?": "Diagnostic events 22 & 23 for Platens, 21 & 24 for IRs. In Celsius with one decimal.",
        "ungrounded_thresholds?":      "These thresholds are used to detect ungrounded thermocouples in SIB fw."
    },

    "heater_zone": {
        "count": 2,
        "names":                [ "Upper Platen",           "Lower Platen" ],
        "menu_json_keys":       [ "preHeatUpperPlaten",     "preHeatLowerPlaten" ],
        "recipe_json_keys":     [ "tempUpperPlaten",        "tempLowerPlaten" ],
        "heater_process_mask":  [ 10,                       21 ],
        "setpoint_min":         [ 650,                      650 ],
        "setpoint_max":         [ 2322,                     2044 ],
        "types":                [ 1,                        0 ],

        "?setpoint_min":        "Tenths degrees celsius, minimum temperature setpoint for zones",
        "?setpoint_max":        "Tenths degrees celsius, maximum temperature setpoint for zones",
        "?types":               "Used to handle cleaning setpoints. 0 - grill. 1 - platen."
    },

    "filter_weight": {
        "cold_junction": [ 1, 4 ],
        "thermocouple":  [ 1, 4, 1, 4, 1, 4, 1, 4, 1, 4, 1, 4, 1, 4, 1, 4 ]
    },

    "cooking_methodologies_names": [
        "Standard Grilled",
        "Water Based",
        "Future Use 1",
        "Future Use 2",
        "Preheat"
    ],

    "cooking_methodologies": [
        [
            { "proportional":   [ 10, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 100, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 25, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },

            { "proportional":   [ 25, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 100, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 25, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 20, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            }
        ],
        [
            { "proportional":   [ 7, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 400, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 5, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 1000, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 10,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 5, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 400, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 5, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 1000, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 10,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 5, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 1000, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 10,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            }
        ],
        [
            { "proportional":   [ 1, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 20, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },

            { "proportional":   [ 1, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 20, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 20, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            }
        ],
        [
            { "proportional":   [ 1, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 20, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },

            { "proportional":   [ 1, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 20, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 20, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            }
        ],
        [
            { "proportional":   [ 1, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 20, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },

            { "proportional":   [ 1, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 20, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 20, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 750,
              "derivative_magnitude_limit": 32767
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            },
            { "proportional":   [ 0, 1 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        0,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            }
        ]
    ],

    "?motor_parameters": [ "platen_define_region_1 and platen_define_region_2 registers define the low-point boundary",
                           "of the first two (of three total) regions of the motor control strategy schedule.",
                           "region[0] extends from the low point specified in register 1 upward (to negative inf).",
                           "region[1] extends from the point specified in platen_define_region_1 to the low point specified in platen_define_region_2.",
                           "region[3] extends from the point specified in platen_define_region_2 downward (to positive inf).",
                           "Three regions are specified to allow a region of angular motion, a pivot region, and a cooking region,",
                           "since different control strategies are generally needed in these three regions, though no semantic meaning",
                           "is assigned to the three regions. Different control strategies are configurable for upward and downward",
                           "motion in each of the three regions. The units of this register are specified in actuator encoder counts."],
    "motor_parameters": {
        "platen_enable": 1,

        "decimicrons_per_encoder_count": 125,

        "pid_parameters": [
            {
              "?description": "Angular region up",
              "proportional":   [ 10, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        500,
              "integral_accumulator_limit": 250,
              "derivative_magnitude_limit": 200
            },
            {
              "?description": "Angular region down",
              "proportional":   [ 10, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        500,
              "integral_accumulator_limit": 250,
              "derivative_magnitude_limit": 200
            },
            {
              "?description": "Pivot region up",
              "proportional":   [ 10, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        500,
              "integral_accumulator_limit": 250,
              "derivative_magnitude_limit": 200
            },
            {
              "?description": "Pivot region down",
              "proportional":   [ 10, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        500,
              "integral_accumulator_limit": 250,
              "derivative_magnitude_limit": 200
            },
            {
              "?description": "Cook region up",
              "proportional":   [ 10, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        500,
              "integral_accumulator_limit": 250,
              "derivative_magnitude_limit": 200
            },
            {
              "?description": "Cook region down",
              "proportional":   [ 10, 1 ],
              "integral":       [ 1, 10 ],
              "derivative":     [ 50, 1 ],
              "setpoint_slew_limit":        500,
              "integral_accumulator_limit": 250,
              "derivative_magnitude_limit": 200
            }
        ],

        "extra": [
            {
                "?description": "Angular region up",
                "motor_pwm_slew_rate_up":   1000,
                "motor_pwm_slew_rate_down": 10,
                "motor_pwm_minimum":        100,
                "motor_pwm_maximum":        1000,
                "motor_pwm_deadband":       100,
                "motor_position_deadband":  20,
                "motor_homing_pwm":         800,
                "motor_bangbang_seek_pwm":  800,
                "motor_kicker_rampup_rate": 2,
                "motor_kicker_maximum":     1000,
                "motor_current_limit":      520
            },
            {
                "?description": "Angular region down",
                "motor_pwm_slew_rate_up":   1000,
                "motor_pwm_slew_rate_down": 10,
                "motor_pwm_minimum":        100,
                "motor_pwm_maximum":        750,
                "motor_pwm_deadband":       100,
                "motor_position_deadband":  20,
                "motor_homing_pwm":         350,
                "motor_bangbang_seek_pwm":  700,
                "motor_kicker_rampup_rate": 2,
                "motor_kicker_maximum":     1000,
                "motor_current_limit":      350
            },
            {
                "?description": "Pivot region up",
                "motor_pwm_slew_rate_up":   1000,
                "motor_pwm_slew_rate_down": 10,
                "motor_pwm_minimum":        100,
                "motor_pwm_maximum":        1000,
                "motor_pwm_deadband":       100,
                "motor_position_deadband":  20,
                "motor_homing_pwm":         800,
                "motor_bangbang_seek_pwm":  800,
                "motor_kicker_rampup_rate": 2,
                "motor_kicker_maximum":     1000,
                "motor_current_limit":      520
            },
            {
                "?description": "Pivot region down",
                "motor_pwm_slew_rate_up":   1000,
                "motor_pwm_slew_rate_down": 10,
                "motor_pwm_minimum":        100,
                "motor_pwm_maximum":        750,
                "motor_pwm_deadband":       100,
                "motor_position_deadband":  20,
                "motor_homing_pwm":         350,
                "motor_bangbang_seek_pwm":  400,
                "motor_kicker_rampup_rate": 2,
                "motor_kicker_maximum":     1000,
                "motor_current_limit":      350
            },
            {
                "?description": "Cook region up",
                "motor_pwm_slew_rate_up":   1000,
                "motor_pwm_slew_rate_down": 10,
                "motor_pwm_minimum":        100,
                "motor_pwm_maximum":        1000,
                "motor_pwm_deadband":       100,
                "motor_position_deadband":  5,
                "motor_homing_pwm":         800,
                "motor_bangbang_seek_pwm":  700,
                "motor_kicker_rampup_rate": 2,
                "motor_kicker_maximum":     1000,
                "motor_current_limit":      520
            },
            {
                "?description": "Cook region down",
                "motor_pwm_slew_rate_up":   1000,
                "motor_pwm_slew_rate_down": 10,
                "motor_pwm_minimum":        100,
                "motor_pwm_maximum":        750,
                "motor_pwm_deadband":       100,
                "motor_position_deadband":  5,
                "motor_homing_pwm":         350,
                "motor_bangbang_seek_pwm":  500,
                "motor_kicker_rampup_rate": 2,
                "motor_kicker_maximum":     1000,
                "motor_current_limit":      350
            }
        ],

        "platen_define_region_1": -800,
        "platen_define_region_2": 300,

        "motor_obstacle_detection_amperage_threshold": 0,
        "motor_fault_lockout_count": 0,

        "motor_current_limit_timeout": 6,

        "platen_motion_qualify": {
          "split": 0,
          "region_above": {
            "up_qualifier": {
              "mask": 12,
              "invert": 12,
              "numbits": 0
            },
            "down_qualifier": {
              "mask": 12,
              "invert": 12,
              "numbits": 0
            }
          },
          "region_below": {
            "up_qualifier": {
              "mask": 12,
              "invert": 12,
              "numbits": 0
            },
            "down_qualifier": {
              "mask": 12,
              "invert": 12,
              "numbits": 0
            }
          }
        },

        "default_calibration_ec": 2440,
        "default_calibration_gap": 0
    },

    "auto_calibration": {
        "sensors_enable": 1,
        "leveling_enable": 1,

        "absolute_min": 1000,
        "absolute_max": 31000,
        "ec_pwm_ratio": [ 113, 4098 ],
        "lower_virtual_stop": 4980,

        "obstruction_delta": [ 800, 800, -32768 ],

        "autogap": [
            {
                "minimum_gap": [ 400, 400, -32768 ],
                "limit_after_capture": 305
            },
            {
                "minimum_gap": [ 400, 400, -32768 ],
                "limit_after_capture": 305
            }
        ],

        "autogap_correction": [12, 100],
        "autogap_zero_offset": 5080,

        "?lever_ratio":                126,
        "?lower_virtual_stop":        -63500,
        "?expected_back_front_delta":  8890,
        "?platen_zero_comp_factor":    100,

        "autolevel": {
            "?minimum_gap": [ 400, 400, -32768 ],
            "?gap_len": 9000,
            "?target": 1200,
            "deadband": 120,
            "polarity_detect_offset": 2000,
            "front_zdbf_offset": 0,
            "front_zdbf_ratio": [ 1, 1 ],
            "back_zdbf_offset": -2286,
            "back_zdbf_ratio": [ 1, 1 ],
            "motor_limit_high": 19660,
            "motor_limit_low": 6553
        },

        "leveling_controller": {
            "pid_parameters": {
              "proportional":   [ 1, 10 ],
              "integral":       [ 0, 1 ],
              "derivative":     [ 0, 1 ],
              "setpoint_slew_limit":        32767,
              "integral_accumulator_limit": 0,
              "derivative_magnitude_limit": 0
            },

            "deadband_pwm": 10,
            "min_pwm": 700,
            "max_pwm": 1000,
            "kick_pwm": 1000,
            "kick_offset": 0
        }
    },

    "hood_height": {
        "max": 1328420
    },

    "preheat_platen_gap": {
        "max": 508000,
        "min": 0
    }
}
